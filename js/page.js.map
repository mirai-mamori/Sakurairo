{"version":3,"file":"page.js","mappings":"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","sources":["webpack://sakurairo-scripts/./src/page/global-func.js","webpack://sakurairo-scripts/./src/page/artile_attachment/index.ts","webpack://sakurairo-scripts/./src/page/artile_attachment/math.ts","webpack://sakurairo-scripts/./src/page/gravatar.ts","webpack://sakurairo-scripts/./src/page/getqqinfo.js","webpack://sakurairo-scripts/./src/page/AddComment.ts","webpack://sakurairo-scripts/./src/page/pagination.ts","webpack://sakurairo-scripts/./src/page/emoji.ts","webpack://sakurairo-scripts/./src/page/annotation.js","webpack://sakurairo-scripts/./src/page/index.js","webpack://sakurairo-scripts/./node_modules/.pnpm/@mui+utils@6.1.1_react@18.2.0/node_modules/@mui/utils/esm/debounce/debounce.js","webpack://sakurairo-scripts/./node_modules/.pnpm/charenc@0.0.2/node_modules/charenc/charenc.js","webpack://sakurairo-scripts/./node_modules/.pnpm/crypt@0.0.2/node_modules/crypt/crypt.js","webpack://sakurairo-scripts/./node_modules/.pnpm/is-buffer@1.1.6/node_modules/is-buffer/index.js","webpack://sakurairo-scripts/./node_modules/.pnpm/md5@2.3.0/node_modules/md5/md5.js"],"sourcesContent":["function grin(tag, type, before, after) {\r\n    const myField = document.getElementById('comment');\r\n    if (!myField || myField.type != 'textarea') {\r\n        return false;\r\n    }\r\n    switch (type) {\r\n        case \"custom\": tag = before + tag + after; break;\r\n        case \"Img\": tag = '[img]' + tag + '[/img]'; break;\r\n        case \"Math\": tag = ' {{' + tag + '}} '; break;\r\n        case \"tieba\": tag = ' ::' + tag + ':: '; break;\r\n        default: tag = ' :' + tag + ': ';\r\n    }\r\n/*     if (document.selection) {\r\n        myField.focus();\r\n        const sel = document.selection.createRange();\r\n        sel.text = tag;\r\n        myField.focus();\r\n    } else */ if (myField.selectionStart || myField.selectionStart == '0') {\r\n        let startPos = myField.selectionStart,\r\n            endPos = myField.selectionEnd,\r\n            cursorPos = endPos;\r\n        myField.value = myField.value.substring(0, startPos) + tag + myField.value.substring(endPos, myField.value.length);\r\n        cursorPos += tag.length;\r\n        myField.focus();\r\n        myField.selectionStart = cursorPos;\r\n        myField.selectionEnd = cursorPos;\r\n    } else {\r\n        myField.value += tag;\r\n        myField.focus();\r\n    }\r\n}\r\nwindow.grin = grin\r\n","import { loadCSS } from 'fg-loadcss';\nimport { slideToggle } from '../../common/util';\nimport { resolvePath, importExternal } from '../../common/npmLib';\nimport math from './math';\nfunction collapse() {\n    //收缩、展开\n    /* jQuery(document).ready(\n    function(jQuery){\n        jQuery('.collapseButton').click(function(){\n        jQuery(this).parent().parent().find('.xContent').slideToggle('slow');\n        });\n        }) */\n    const collapseButtons = document.getElementsByClassName('collapseButton');\n    if (collapseButtons.length > 0) {\n        const collapseListener = (e) => {\n            slideToggle(e.currentTarget.nextElementSibling);\n        };\n        for (const ele of collapseButtons) {\n            ele.addEventListener(\"click\", collapseListener);\n        }\n        // import('jquery').then(({ default: jQuery }) => {\n        //     jQuery('.collapseButton').on(\"click\", function () {\n        //         jQuery(this).parent().parent().find('.xContent').slideToggle('slow');\n        //     })\n        // })\n    }\n}\nlet lightBoxCSS;\nasync function lightbox() {\n    //init lightbox\n    if (_iro.baguetteBox) {\n        if (!lightBoxCSS)\n            lightBoxCSS = loadCSS(resolvePath('dist/baguetteBox.min.css', 'baguettebox.js', '1.11.1'));\n        //@ts-ignore\n        const { default: baguetteBox } = await import('baguettebox.js');\n        baguetteBox.run('.entry-content', {\n            captions: function (element) {\n                return element.getElementsByTagName('img')[0].alt;\n            },\n            ignoreClass: 'fancybox',\n        });\n    }\n    else if (_iro.fancybox) {\n        if (!lightBoxCSS)\n            lightBoxCSS = loadCSS(resolvePath('dist/jquery.fancybox.min.css', '@fancyapps/fancybox'));\n        if (!((window.jQuery instanceof Function) || (window.$ instanceof Function))) {\n            if (_iro.ext_shared_lib) {\n                importExternal('dist/jquery.slim.min.js', 'jquery');\n            }\n            else {\n                //@ts-ignore\n                const { default: jQuery } = await import('jquery');\n                window.$ = jQuery;\n                window.jQuery = jQuery;\n            }\n        }\n        if (_iro.ext_shared_lib) {\n            importExternal('dist/jquery.fancybox.min.js', '@fancyapps/fancybox');\n        }\n        else {\n            //@ts-ignore\n            import('@fancyapps/fancybox');\n        }\n    }\n    else if (_iro.lightGallery) {\n        //lightGallery的umd导入有点问题\n        /*         if (_iro.ext_shared_lib) {\n                    if (!window.lightGallery) {\n                        loadCSS(resolvePath('css/lightgallery-bundle.min.css', 'lightgallery', '2.3.0'))\n                        await importExternal('lightgallery.umd.js', 'lightgallery')\n                    }\n                    const { plugins } = _iro.lightGallery\n                    if (plugins) {\n                        (await Promise\n                            .allSettled(\n                                plugins.map((name: string) => importExternal('plugins/' + solvePluginName(name)+'.umd.js', 'lightgallery'))\n                            ))\n                            .map(handleResult)\n                    }\n                    window.lightGallery(\n                        document.querySelector('.entry-content'),\n                        _iro.lightGallery);\n                } else {\n                    //@ts-ignore\n                    const { default: initLightGallery } = await import('./lightGallery/import')\n                    initLightGallery()\n                } */\n        const { default: initLightGallery } = await import('../lightGallery/import');\n        initLightGallery();\n    }\n}\nexport default function article_attach() {\n    collapse();\n    lightbox();\n    math();\n}\n","import { resolvePath } from '../../common/npmLib';\nexport default async function math() {\n    if (document.getElementsByTagName('math').length > 0 || document.querySelector('article > div.entry-content')?.textContent.match(/(?:\\$|\\\\\\(|\\\\\\[|\\\\begin\\{.*?})/)) {\n        const mathjaxConfig = {\n            tex: {\n                inlineMath: [['$', '$'], ['\\\\(', '\\\\)']]\n            },\n            startup: {\n                typeset: false, // Perform initial typeset?\n            },\n            chtml: {\n                fontURL: resolvePath('es5/output/chtml/fonts/woff-v2', 'mathjax'),\n                mathmlSpacing: true // true for MathML spacing rules, false for TeX rules\n            }\n        };\n        if (!('MathJax' in window)) {\n            //@ts-ignore\n            window.MathJax = mathjaxConfig;\n        }\n        //@ts-ignore\n        await import('mathjax/es5/tex-mml-chtml'); //@ts-ignore\n        window.MathJax.typesetPromise();\n    }\n}\n","import MD5 from 'md5';\n/**\n * Gravatar\n * from a6cd66c 11.third-part-functions.js\n */\nexport const get_gravatar = (email, size = 80) => 'https://' + _iro.gravatar_url + '/' + MD5(email) + '.jpg?s=' + size + '&d=mm';\n","import { buildAPI } from '../common/util'\r\nimport { get_gravatar } from './gravatar'\r\n\r\nexport default function getqqinfo() {\r\n    let is_get_by_qq = false;\r\n    const i_author = document.querySelector(\"input#author\"),\r\n        i_qq = document.querySelector(\"input#qq\"),\r\n        i_email = document.querySelector(\"input#email\"),\r\n        i_url = document.querySelector(\"input#url\"),\r\n        qq_check = document.querySelector(\".qq-check\"),\r\n        gravatar_check = document.querySelector(\".gravatar-check\"),\r\n        user_avatar_img = document.querySelector(\"div.comment-user-avatar img\");\r\n    if (i_author == null) return;\r\n    if (!localStorage.getItem('user_qq') && !localStorage.getItem('user_qq_email') && !localStorage.getItem('user_author')) {\r\n        i_qq.value = i_author.value = i_email.value = i_url.value = \"\";\r\n    }\r\n    if (localStorage.getItem('user_avatar') && localStorage.getItem('user_qq') && localStorage.getItem('user_qq_email')) {\r\n        user_avatar_img.setAttribute('src', localStorage.getItem('user_avatar'));\r\n        i_author.value = localStorage.getItem('user_author');\r\n        i_email.value = localStorage.getItem('user_qq') + '@qq.com';\r\n        i_qq.value = localStorage.getItem('user_qq');\r\n        if (_iro.qzone_autocomplete) {\r\n            i_url.value = 'https://user.qzone.qq.com/' + localStorage.getItem('user_qq');\r\n        }\r\n        if (i_qq.value) {\r\n            qq_check.style.display = \"block\";\r\n            gravatar_check.style.display = \"none\";\r\n        }\r\n    }\r\n    let emailAddressFlag = i_email.value;\r\n    //var emailAddressFlag = cached.filter('#email').val();\r\n    i_author.addEventListener('blur', () => {\r\n        // })\r\n        //cached.filter('#author').on('blur', function () {\r\n        const qq = i_author.value,\r\n            reg_QQ = /^[1-9]\\d{4,9}$/;\r\n        if (reg_QQ.test(qq)) {\r\n            const whileFailed = () => {\r\n                i_qq.value = '';\r\n                qq_check.style.display = 'none';\r\n                gravatar_check.style.display = 'block';\r\n                user_avatar_img.setAttribute('src', get_gravatar(i_email.value, 80));\r\n                localStorage.setItem('user_qq', '');\r\n                localStorage.setItem('user_email', i_email.value);\r\n                localStorage.setItem('user_avatar', get_gravatar(i_email.value, 80));\r\n                /***/\r\n                /*         qq.value = email.value = url.value = \"\";\r\n                        if (!qq.value) {\r\n                            qq_check.style.display = 'none';\r\n                            gravatar_check.style.display = 'block';\r\n                            setCookie('user_qq', '', 30);\r\n                            user_avatar_img.setAttribute('src', get_gravatar(email.value, 80));\r\n                            setCookie('user_avatar', get_gravatar(email.value, 80), 30);\r\n                        } */\r\n            }\r\n            fetch(buildAPI(_iro.qq_api_url, { qq: qq }))\r\n                .then(async resp => {\r\n                    if (resp.ok) {\r\n                        //success\r\n                        try {\r\n                            const data = await resp.json()\r\n                            i_author.value = data.name;\r\n                            i_email.value = qq.trim() + '@qq.com';\r\n                            if (_iro.qzone_autocomplete) {\r\n                                i_url.value = 'https://user.qzone.qq.com/' + qq.trim();\r\n                            }\r\n                            user_avatar_img.setAttribute('src', 'https://q2.qlogo.cn/headimg_dl?dst_uin=' + qq + '&spec=100');\r\n                            is_get_by_qq = true;\r\n                            i_qq.value = qq.trim();\r\n                            if (i_qq.value) {\r\n                                qq_check.style.display = 'block';\r\n                                gravatar_check.style.display = 'none';\r\n                            }\r\n                            localStorage.setItem('user_author', data.name);\r\n                            localStorage.setItem('user_qq', qq);\r\n                            localStorage.setItem('is_user_qq', 'yes');\r\n                            localStorage.setItem('user_qq_email', qq + '@qq.com');\r\n                            localStorage.setItem('user_email', qq + '@qq.com');\r\n                            emailAddressFlag = i_email.value;\r\n                            /***/\r\n                            user_avatar_img.setAttribute('src', data.avatar);\r\n                            localStorage.setItem('user_avatar', data.avatar);\r\n                        } catch (e) {\r\n                            console.warn(e)\r\n                            whileFailed()\r\n                        }\r\n                    } else {\r\n                        whileFailed()\r\n                    }\r\n                })\r\n        }\r\n    });\r\n    if (localStorage.getItem('user_avatar') && localStorage.getItem('user_email') && localStorage.getItem('is_user_qq') == 'no' && !localStorage.getItem('user_qq_email')) {\r\n        user_avatar_img.setAttribute(\"src\", localStorage.getItem('user_avatar'));\r\n        i_email.value = localStorage.getItem('user_mail');\r\n        i_qq.value = '';\r\n        if (!i_qq.value) {\r\n            qq_check.style.display = \"none\";\r\n            gravatar_check.style.display = \"block\";\r\n        }\r\n        // $('div.comment-user-avatar img').attr('src', getCookie('user_avatar'));\r\n        // cached.filter('#email').val(getCookie('user_email'));\r\n        // cached.filter('#qq').val('');\r\n        // if (!cached.filter('#qq').val()) {\r\n        //     $('.qq-check').css('display', 'none');\r\n        //     $('.gravatar-check').css('display', 'block');\r\n        // }\r\n    }\r\n    i_email.addEventListener(\"blur\", function () {\r\n        //cached.filter('#email').on('blur', function () {\r\n        let emailAddress = i_email.value;\r\n        // var emailAddress = cached.filter('#email').val();\r\n        if ((is_get_by_qq == false || emailAddressFlag != emailAddress) && emailAddress != '') {\r\n            user_avatar_img.setAttribute(\"src\", get_gravatar(emailAddress, 80));\r\n            //$('div.comment-user-avatar img').attr('src', get_gravatar(emailAddress, 80));\r\n            localStorage.setItem('user_avatar', get_gravatar(emailAddress, 80));\r\n            localStorage.setItem('user_email', emailAddress);\r\n            localStorage.setItem('user_qq_email', '');\r\n            localStorage.setItem('is_user_qq', 'no');\r\n            i_qq.value = '';\r\n            // cached.filter('#qq').val('');\r\n            if (!i_qq.value) {\r\n                qq_check.style.display = \"none\";\r\n                gravatar_check.style.display = \"block\";\r\n                // $('.qq-check').css('display', 'none');\r\n                // $('.gravatar-check').css('display', 'block');\r\n            }\r\n        }\r\n    });\r\n    if (localStorage.getItem('user_url')) {\r\n        i_url.value = localStorage.getItem(\"user_url\");\r\n        // cached.filter('#url').val(getCookie('user_url'));\r\n    }\r\n    i_url.addEventListener(\"blur\", function () {\r\n        //cached.filter('#url').on('blur', function () {\r\n        let URL_Address = i_url.value;\r\n        i_url.value = URL_Address;\r\n        // var URL_Address = cached.filter('#url').val();\r\n        // cached.filter('#url').val(URL_Address);\r\n        localStorage.setItem('user_url', URL_Address);\r\n    });\r\n    if (localStorage.getItem('user_author')) {\r\n        i_author.value = localStorage.getItem('user_author');\r\n        // cached.filter('#author').val(getCookie('user_author'));\r\n    }\r\n    i_author.addEventListener(\"blur\", function () {\r\n        // cached.filter('#author').on('blur', function () {\r\n        let user_name = i_author.value;\r\n        i_author.value = user_name;\r\n        // var user_name = cached.filter('#author').val();\r\n        // cached.filter('#author').val(user_name);\r\n        localStorage.setItem('user_author', user_name);\r\n    });\r\n}","const AddComment = {\n    respondId: '',\n    moveForm: function (commId, parentId, respondId) {\n        const comm = document.getElementById(commId), respond = document.getElementById(respondId), cancel = document.getElementById('cancel-comment-reply-link'), parent = document.getElementById('comment_parent');\n        //post = document.getElementById('comment_post_ID');\n        this.respondId = respondId;\n        if (!document.getElementById('wp-temp-form-div')) {\n            const div = document.createElement('div');\n            div.id = 'wp-temp-form-div';\n            div.style.display = 'none';\n            respond.parentNode.insertBefore(div, respond);\n        }\n        if (!comm) {\n            const temp = document.getElementById('wp-temp-form-div');\n            document.getElementById('comment_parent').value = '0';\n            temp.parentNode.insertBefore(respond, temp);\n            temp.remove();\n        }\n        else {\n            comm.parentNode.insertBefore(respond, comm.nextSibling);\n        }\n        const _respond = document.getElementById(\"respond\");\n        window.scrollTo({\n            top: _respond.getBoundingClientRect().top + window.pageYOffset - _respond.clientTop - 100,\n            behavior: \"smooth\"\n        });\n        parent.value = parentId;\n        cancel.style.display = '';\n        cancel.onclick = function (e) {\n            const t = AddComment, temp = document.getElementById('wp-temp-form-div'), respond = document.getElementById(t.respondId);\n            document.getElementById('comment_parent').value = '0';\n            if (temp && respond) {\n                temp.parentNode.insertBefore(respond, temp);\n                temp.remove();\n                //temp.parentNode.removeChild(temp);\n            }\n            this.style.display = 'none';\n            this.onclick = null;\n            return false;\n        };\n        try {\n            document.getElementById('comment').focus();\n        }\n        catch (e) { }\n        return false;\n    },\n};\nexport default AddComment;\n","import { createButterbar } from \"../common/butterbar\";\nimport lazyload from \"../common/lazyload\";\nconst PaginationListener = (e) => {\n    const target = e.target;\n    if (target === document.querySelector(\"#template-pagination a\")) {\n        e.preventDefault();\n        e.stopPropagation();\n        if (target.classList.contains(\"loading\"))\n            return;\n        target.classList.add(\"loading\");\n        target.textContent = \"\";\n        fetch(target.dataset.href + \"&_wpnonce=\" + _iro.nonce, {\n            method: \"POST\"\n        })\n            .then(async (res) => {\n            const data = await res.json();\n            if (res.ok) {\n                document.getElementById(\"template-pagination\").remove();\n                document.querySelector(\".row\").insertAdjacentHTML('beforeend', data);\n                //@ts-ignore\n                lazyload();\n            }\n            else {\n                throw Error(`Error, Status: ${res.status}`);\n            }\n        })\n            .catch(e => {\n            console.error(e);\n            createButterbar(e);\n            target.classList.remove(\"loading\");\n            target.innerHTML = '<i class=\"fa-solid fa-triangle-exclamation\"></i> ERROR ';\n        });\n    }\n};\nexport default function LoadNextPage() {\n    const sections = document.getElementsByTagName(\"section\");\n    let _flag = false;\n    for (let i = 0; i < sections.length; i++) {\n        if (sections[i].classList.contains(\"have-columns\")) {\n            _flag = true;\n            break;\n        }\n    }\n    if (_flag) {\n        document.addEventListener('click', PaginationListener);\n    }\n}\n","export default function prepareEmoji() {\n    const emojiPanelButton = document.getElementById('emotion-toggle');\n    const emojiPanel = document.querySelector('.emotion-box');\n    const header = document.querySelector('.emotion-header');\n    const commentTextArea = document.querySelector('.comment-textarea');\n    if (!emojiPanelButton) {\n        document.removeEventListener('click', closeEmojiPanel);\n        document.removeEventListener('mousemove', moveDrag);\n        document.removeEventListener('mouseup', endDrag);\n        document.removeEventListener('touchmove', moveDrag);\n        document.removeEventListener('touchend', endDrag);\n        if (header) {\n            header.removeEventListener('touchstart', startDrag);\n            header.removeEventListener('mousedown', startDrag);\n        }\n        return;\n    }\n    if (emojiPanelButton) {\n        emojiPanelButton.addEventListener('click', openEmoji);\n    }\n    function openEmoji() {\n        if (!emojiPanel)\n            return;\n        // 判断是否已经拖动过\n        const dragged = emojiPanel.getAttribute('dragged');\n        if (!dragged) {\n            const btnRect = emojiPanelButton.getBoundingClientRect();\n            const panelWidth = emojiPanel.offsetWidth;\n            const panelHeight = emojiPanel.offsetHeight;\n            let leftPos = btnRect.left + window.scrollX + (btnRect.width / 2) - (panelWidth / 2);\n            const isFixed = window.getComputedStyle(emojiPanel).position === \"fixed\";\n            let topPos = isFixed ? (btnRect.top - panelHeight) : (btnRect.top - panelHeight + window.scrollY);\n            emojiPanel.style.left = `${leftPos}px`;\n            emojiPanel.style.top = `${topPos}px`;\n        }\n        // 立即呼出\n        emojiPanel.classList.toggle('open');\n        // 初始化拖拽监听器\n        if (!emojiPanel.hasAttribute('initialized')) {\n            initEmojiPanel();\n            emojiPanel.setAttribute('initialized', 'true'); // 标记已初始化\n        }\n    }\n    function initEmojiPanel() {\n        if (!emojiPanel || !header)\n            return;\n        // 监听鼠标事件\n        header.addEventListener('mousedown', startDrag);\n        document.addEventListener('mousemove', moveDrag);\n        document.addEventListener('mouseup', endDrag);\n        // 监听触摸事件\n        header.addEventListener('touchstart', startDrag, { passive: false });\n        document.addEventListener('touchmove', moveDrag, { passive: false });\n        document.addEventListener('touchend', endDrag);\n        // 点击外部关闭面板\n        if (emojiPanelButton) {\n            document.addEventListener('click', closeEmojiPanel);\n        }\n    }\n    // 不处于输入框、表情面板、表情开关时，关闭\n    function closeEmojiPanel(e) {\n        const target = e.target;\n        if (!emojiPanel.contains(target) &&\n            !emojiPanelButton.contains(target) &&\n            !commentTextArea.contains(target)) {\n            emojiPanel.classList.remove('open');\n        }\n    }\n    let offsetX = 0, offsetY = 0, isDragging = false;\n    function startDrag(e) {\n        isDragging = true;\n        const event = e.touches ? e.touches[0] : e;\n        offsetX = event.clientX - emojiPanel.offsetLeft;\n        offsetY = event.clientY - emojiPanel.offsetTop;\n        emojiPanel.style.transition = \"none\"; // 拖拽时禁用动画\n        if (e.touches)\n            e.preventDefault();\n    }\n    function moveDrag(e) {\n        if (!isDragging)\n            return;\n        const event = e.touches ? e.touches[0] : e;\n        const left = event.clientX - offsetX;\n        const top = event.clientY - offsetY;\n        emojiPanel.style.left = `${left}px`;\n        emojiPanel.style.top = `${top}px`;\n        emojiPanel.setAttribute('dragged', 'true'); // 标记为已拖拽\n        if (e.touches)\n            e.preventDefault();\n    }\n    function endDrag() {\n        isDragging = false;\n        emojiPanel.style.transition = \"\";\n    }\n    const row = document.querySelector('.emotion-box>table tr');\n    if (!row)\n        return;\n    //表情栏切换\n    row.addEventListener('click', (e) => {\n        if (e.target.tagName === 'TH') {\n            for (const element of row.querySelectorAll('th')) {\n                const container = document.querySelector(`.${element.className.match(/(\\S+)-bar/)[1]}-container`);\n                if (element === e.target) {\n                    element.classList.add('on-hover');\n                    container.style.display = 'block';\n                }\n                else {\n                    element.classList.remove('on-hover');\n                    container.style.display = 'none';\n                }\n            }\n        }\n    });\n}\n","// 初始化注释功能\r\nexport default function initAnnotations() {\r\n    createAnnotationPopup();\r\n    \r\n    // 检查注释数据\r\n    if (!_iro.have_annotation) return;\r\n    \r\n    if (typeof _iro.page_annotation === 'string') {\r\n        _iro.page_annotation = JSON.parse(_iro.page_annotation);\r\n    }        \r\n    \r\n    if (!_iro.page_annotation || Object.keys(_iro.page_annotation).length === 0) {\r\n        return;\r\n    }\r\n    \r\n    // 查找注释标记\r\n    let annotationMarks = document.querySelectorAll('.iro-term-annotation');\r\n    \r\n    // 为所有注释标记添加点击事件\r\n    annotationMarks.forEach(mark => {\r\n        mark.addEventListener('click', function(event) {\r\n            event.preventDefault();\r\n            event.stopPropagation();\r\n            \r\n            let term = this.getAttribute('data-term');\r\n            if (_iro.page_annotation && _iro.page_annotation[term]) {\r\n                let explanation = _iro.page_annotation[term];\r\n                let popup = document.getElementById('iro-annotation-popup');\r\n                \r\n                popup.querySelector('.term').textContent = term;\r\n                popup.querySelector('.explanation').textContent = explanation;\r\n                \r\n                let rect = this.getBoundingClientRect();\r\n                popup.style.top = (window.pageYOffset + rect.bottom + 10) + 'px';\r\n                popup.style.left = (rect.left - 50) + 'px';\r\n                popup.style.display = 'block';\r\n            }\r\n        });\r\n    });\r\n    \r\n    // 点击其他区域关闭弹窗\r\n    document.addEventListener('click', function(event) {\r\n        let popup = document.getElementById('iro-annotation-popup');\r\n        if (popup && !event.target.closest('.iro-term-annotation, .iro-annotation-popup')) {\r\n            popup.style.display = 'none';\r\n        }\r\n    });\r\n}\r\n\r\n// 创建注释弹出层\r\nfunction createAnnotationPopup() {\r\n    let popup = document.getElementById('iro-annotation-popup');\r\n    if (popup) return popup;\r\n    \r\n    popup = document.createElement('div');\r\n    popup.id = 'iro-annotation-popup';\r\n    popup.className = 'iro-annotation-popup';\r\n    popup.innerHTML = '<span class=\"close\">×</span><div class=\"term\"></div><div class=\"explanation\"></div>';\r\n    document.body.appendChild(popup);\r\n    \r\n    popup.querySelector('.close').addEventListener('click', function() {\r\n        popup.style.display = 'none';\r\n    });\r\n    \r\n    return popup;\r\n}","import article_attach from './artile_attachment'\r\nimport { ready, slideToggle, buildAPI } from '../common/util'\r\nimport lazyload from \"../common/lazyload\"\r\nimport { createButterbar } from '../common/butterbar'\r\nimport './global-func'\r\nimport getqqinfo from './getqqinfo'\r\nimport addComment from './AddComment'\r\nimport { _$, __ } from '../common/sakurairo_global'\r\nimport LoadNextPage from './pagination'\r\nimport debounce from '@mui/utils/debounce'\r\nimport { code_highlight_style } from '../common/code-highlight'\r\nimport prepareEmoji from './emoji'\r\nimport initAnnotations from './annotation'\r\n// 导入新的文章特色图片取色模块\r\nimport { applyArticleHighlights } from '../app/article-highlight'\r\n\r\nfunction click_to_view_image() {\r\n    const comment_inline = document.getElementsByClassName('comment_inline_img');\r\n    if (!comment_inline.length) return;\r\n    document.getElementsByClassName(\"comments-main\")[0].addEventListener(\"click\", function (e) {\r\n        if (e.target.classList.contains(\"comment_inline_img\")) {\r\n            window.open(e.target.src);\r\n        }\r\n    })\r\n}\r\nfunction clean_upload_images() {\r\n    document.getElementById(\"upload-img-show\").innerHTML = '';\r\n}\r\nfunction original_emoji_click() {\r\n    const emoji = document.getElementsByClassName('emoji-item');\r\n    if (!emoji.length) return;\r\n    document.querySelector(\".menhera-container\").addEventListener(\"click\", function (e) {\r\n        if (e.target.classList.contains(\"emoji-item\")) {\r\n            grin(e.target.innerText, \"custom\", \"`\", \"` \");\r\n        }\r\n    })\r\n}\r\nfunction XCS() {\r\n    const __list = 'commentwrap';\r\n    const form = document.getElementById(\"commentform\")\r\n    if (form) {\r\n        let statusSubmitting = false\r\n        form.addEventListener('submit', function (event) {\r\n            event.stopPropagation()\r\n            event.preventDefault();\r\n            if (statusSubmitting) return\r\n            const butterBarRef = createButterbar(__(\"提交中....\"), true)\r\n            const form = new FormData(this)\r\n            form.append('action', 'ajax_comment')\r\n            statusSubmitting = true\r\n            fetch(_iro.ajaxurl, {\r\n                method: this.attributes.method.value,\r\n                body: form\r\n            }).then(async resp => {\r\n                const data = await resp.text()\r\n                if (resp.ok) {\r\n                    Array.from(document.getElementsByTagName('textarea'))\r\n                        .forEach((e) => e.value = '')\r\n                    const cancel = document.getElementById('cancel-comment-reply-link'),\r\n                        temp = document.getElementById('wp-temp-form-div'),\r\n                        respond = document.getElementById(addComment.respondId),\r\n                        //post = document.getElementById('comment_post_ID').value,\r\n                        parent = document.getElementById('comment_parent').value;\r\n                    if (parent != '0') {\r\n                        //jQuery('#respond').before('<ol class=\"children\">' + data + '</ol>');\r\n                        document.getElementById(\"respond\").insertAdjacentHTML('beforebegin', '<ol class=\"children\">' + data + '</ol>');\r\n                    } else if (!document.getElementsByClassName(__list).length) {\r\n                        if (_iro.formpostion == 'bottom') {\r\n                            document.getElementById(\"respond\").insertAdjacentHTML('beforebegin', '<ol class=\"' + __list + '\">' + data + '</ol>');\r\n                            //jQuery('#respond').before('<ol class=\"' + __list + '\">' + data + '</ol>');\r\n                        } else {\r\n                            document.getElementById(\"respond\").insertAdjacentHTML('afterend', '<ol class=\"' + __list + '\">' + data + '</ol>');\r\n                            //jQuery('#respond').after('<ol class=\"' + __list + '\">' + data + '</ol>');\r\n                        }\r\n                    } else {\r\n                        if (_iro.order == 'asc') {\r\n                            document.getElementsByClassName(\"commentwrap\")[1].insertAdjacentHTML('beforeend', data);\r\n                            //jQuery('.' + __list).append(data);\r\n                        } else {\r\n                            document.getElementsByClassName(\"commentwrap\")[1].insertAdjacentHTML('afterbegin', data);\r\n                            //jQuery('.' + __list).prepend(data);\r\n                        }\r\n                    }\r\n                    createButterbar(__(\"提交成功\"));\r\n                    document.dispatchEvent(new CustomEvent('ajax_comment_complete',))\r\n                    cancel.style.display = 'none';\r\n                    cancel.onclick = null;\r\n                    document.getElementById('comment_parent').value = '0';\r\n                    if (temp && respond) {\r\n                        temp.parentNode.insertBefore(respond, temp);\r\n                        temp.remove();\r\n                        //temp.parentNode.removeChild(temp)\r\n                    }\r\n                } else {\r\n                    createButterbar(data || 'HTTP' + resp.status + ':' + resp.statusText);\r\n                }\r\n            }).catch(reason => {\r\n                createButterbar(reason);\r\n            }).finally(() => {\r\n                butterBarRef.remove()\r\n                statusSubmitting = false\r\n            })\r\n            /* jQuery.ajax({\r\n                url: _iro.ajaxurl,\r\n                data: jQuery(this).serialize() + \"&action=ajax_comment\",\r\n                type: jQuery(this).attr('method'),\r\n                beforeSend: createButterbar(\"提交中(Commiting)....\"),\r\n                error: function (request) {\r\n                    var t = addComment;\r\n                    t.createButterbar(request.responseText);\r\n                },\r\n                success: function (data) {\r\n                    jQuery('textarea').each(function () {\r\n                        this.value = ''\r\n                    });\r\n                    var t = addComment,\r\n                        cancel = t.I('cancel-comment-reply-link'),\r\n                        temp = t.I('wp-temp-form-div'),\r\n                        respond = t.I(t.respondId),\r\n                        post = t.I('comment_post_ID').value,\r\n                        parent = t.I('comment_parent').value;\r\n                    if (parent != '0') {\r\n                        jQuery('#respond').before('<ol class=\"children\">' + data + '</ol>');\r\n                    } else if (!jQuery('.' + __list).length) {\r\n                        if (_iro.formpostion == 'bottom') {\r\n                            jQuery('#respond').before('<ol class=\"' + __list + '\">' + data + '</ol>');\r\n                        } else {\r\n                            jQuery('#respond').after('<ol class=\"' + __list + '\">' + data + '</ol>');\r\n                        }\r\n                    } else {\r\n                        if (_iro.order == 'asc') {\r\n                            jQuery('.' + __list).append(data);\r\n                        } else {\r\n                            jQuery('.' + __list).prepend(data);\r\n                        }\r\n                    }\r\n                    t.createButterbar(\"提交成功(Succeed)\");\r\n                    lazyload();\r\n                    code_highlight_style();\r\n                    click_to_view_image();\r\n                    clean_upload_images();\r\n                    cancel.style.display = 'none';\r\n                    cancel.onclick = null;\r\n                    t.I('comment_parent').value = '0';\r\n                    if (temp && respond) {\r\n                        temp.parentNode.insertBefore(respond, temp);\r\n                        temp.remove();\r\n                        //temp.parentNode.removeChild(temp)\r\n                    }\r\n                }\r\n            }); */\r\n        })\r\n    }\r\n}\r\n\r\nfunction XCP() {\r\n    document.body.addEventListener('click', function (e) {\r\n        if (e.target.parentNode == document.getElementById(\"comments-navi\") && e.target.nodeName.toLowerCase() == \"a\") {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n            let _this = e.target,\r\n                path = _this.pathname,\r\n                _xhr = new XMLHttpRequest();\r\n            _xhr.open(\"GET\", _this.getAttribute('href'), true);\r\n            _xhr.responseType = \"document\";\r\n            _xhr.onloadstart = () => {\r\n                let comments_navi = document.getElementById(\"comments-navi\"),\r\n                    commentwrap = document.querySelector(\"ul.commentwrap\"),\r\n                    loading_comments = document.getElementById(\"loading-comments\"),\r\n                    comments_list = document.getElementById(\"comments-list-title\");\r\n                comments_navi.remove();\r\n                commentwrap.remove();\r\n                //comments_navi.parentNode.removeChild(comments_navi);\r\n                //commentwrap.parentNode.removeChild(commentwrap);\r\n                loading_comments.style.display = \"block\";\r\n                slideToggle(loading_comments, 500, \"show\");\r\n                window.scrollTo({\r\n                    top: comments_list.getBoundingClientRect().top + window.pageYOffset - comments_list.clientTop - 65,\r\n                    behavior: \"smooth\"\r\n                });\r\n            }\r\n            _xhr.onreadystatechange = function () {\r\n                if (_xhr.readyState == 4 && _xhr.status == 200) {\r\n                    let json = _xhr.response,\r\n                        result = json.querySelector(\"ul.commentwrap\"),\r\n                        nextlink = json.getElementById(\"comments-navi\"),\r\n                        loading_comments = document.getElementById(\"loading-comments\");\r\n                    slideToggle(loading_comments, 200, \"hide\");\r\n                    document.getElementById(\"loading-comments\").insertAdjacentHTML('afterend', result.outerHTML);\r\n                    document.querySelector(\"ul.commentwrap\").insertAdjacentHTML('afterend', nextlink.outerHTML);\r\n                    lazyload();\r\n                    if (window.gtag) {\r\n                        gtag('config', _iro.google_analytics_id, {\r\n                            'page_path': path\r\n                        });\r\n                    }\r\n                    code_highlight_style();\r\n                    click_to_view_image();\r\n                    let commentwrap = document.querySelector(\"ul.commentwrap\");\r\n                    window.scrollTo({\r\n                        top: commentwrap && (commentwrap.getBoundingClientRect().top + window.pageYOffset - commentwrap.clientTop - 200),\r\n                        behavior: \"smooth\"\r\n                    });\r\n                }\r\n            }\r\n            _xhr.send();\r\n        }\r\n    });\r\n}\r\nfunction sm() {\r\n    let sm = document.getElementsByClassName('sm'),\r\n        cm = document.querySelector(\".comments-main\");\r\n    if (!sm.length) return;\r\n    if (cm) {\r\n        cm.addEventListener(\"click\", function (e) {\r\n            if (e.target.classList.contains(\"comment-reply-link\")) {\r\n                e.preventDefault();\r\n                e.stopPropagation();\r\n                let data_commentid = e.target.getAttribute(\"data-commentid\");\r\n                addComment.moveForm(\"comment-\" + data_commentid, data_commentid, \"respond\", this.getAttribute(\"data-postid\"));\r\n            }\r\n        })\r\n        cm.addEventListener(\"click\", (e) => {\r\n            let list = e.target.parentNode;\r\n            if (list.classList.contains(\"sm\")) {\r\n                let msg = __(\"您真的要设为私密吗？\");\r\n                if (confirm(msg) == true) {\r\n                    if (list.classList.contains('private_now')) {\r\n                        alert(__('您之前已设过私密评论'));\r\n                        return false;\r\n                    } else {\r\n                        list.classList.add('private_now');\r\n                        let idp = list.getAttribute(\"data-idp\"),\r\n                            actionp = list.getAttribute(\"data-actionp\"),\r\n                            rateHolderp = list.getElementsByClassName('has_set_private')[0];\r\n                        let ajax_data = \"action=siren_private&p_id=\" + idp + \"&p_action=\" + actionp;\r\n                        let request = new XMLHttpRequest();\r\n                        request.onreadystatechange = function () {\r\n                            if (this.readyState == 4 && this.status == 200) {\r\n                                rateHolderp.innerHTML = request.responseText;\r\n                            }\r\n                        };\r\n                        request.open('POST', _iro.ajaxurl, true);\r\n                        request.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\r\n                        request.send(ajax_data);\r\n                        return false;\r\n                    }\r\n                }\r\n            }\r\n        })\r\n    }\r\n}\r\nfunction throttling(fn, wait, maxTimelong) {\r\n    let timeout = null,\r\n        startTime = Date.parse(new Date);\r\n    return function () {\r\n        if (timeout !== null) clearTimeout(timeout);\r\n        let curTime = Date.parse(new Date);\r\n        if (curTime - startTime >= maxTimelong) {\r\n            fn();\r\n            startTime = curTime;\r\n        } else {\r\n            timeout = setTimeout(fn, wait);\r\n        }\r\n    }\r\n}\r\nfunction resizeTOC() {\r\n    const toc_container = document.querySelector(\".toc-container\"),\r\n        sc = document.querySelector(\".site-content\")\r\n    if (toc_container && sc) {\r\n        const resize = () => {\r\n            toc_container.style.height = Math.min(sc.getBoundingClientRect()[\"height\"], document.documentElement.offsetHeight - toc_container.offsetTop) + \"px\";\r\n        }\r\n        resize()\r\n        //TODO:性能\r\n        window.addEventListener('resize', debounce(resize), { passive: true })\r\n        document.addEventListener('scroll', throttling(resize, 200, 1000))\r\n    }\r\n}\r\nfunction tableOfContentScroll(flag) {\r\n    let tocContainer = document.getElementsByClassName(\"toc-container\")[0];\r\n    let hasToc = document.querySelector(\"div.have-toc\") || document.querySelector(\"div.has-toc\");\r\n    if (!hasToc) {\r\n        if (tocContainer) {\r\n            tocContainer.style.display = \"none\";\r\n        }\r\n    } else {\r\n        if (tocContainer) {\r\n            tocContainer.style.display = \"\";\r\n        }\r\n        if (flag && document.getElementsByClassName('toc').length > 0) {\r\n            import('tocbot').then(({ default: tocbot }) => {\r\n                tocbot.init({\r\n                    tocSelector: '#main-container .toc',\r\n                    contentSelector: ['.entry-content', '.links'],\r\n                    headingSelector: 'h1,h2,h3,h4,h5',\r\n                    headingsOffset: heading_fix - window.innerHeight / 2,\r\n                    onClick: null\r\n                });\r\n            })\r\n            const heading_fix = _iro.entry_content_style == \"sakurairo\" ? (document.querySelector(\"article.type-post\") ? (document.querySelector(\"div.pattern-attachment\") ? -75 : 200) : 375) : window.innerHeight / 2;\r\n            const _els = document.querySelectorAll('.entry-content,.links');\r\n            const idSet = new Set()\r\n            let id = 1\r\n            for (let i = 0; i < _els.length; i++) {\r\n                let _el = _els[i].querySelectorAll('h1,h2,h3,h4,h5');\r\n                for (const title of _el) {\r\n                    const validId = generateValidId(title.innerText, idSet, id);\r\n                    if (idSet.has(validId)) {\r\n                        title.id = \"toc-head-\" + id++;\r\n                    } else {\r\n                        title.id = validId;\r\n                        idSet.add(validId);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n//转义id，防止使用中文字符报错\r\nfunction generateValidId(text, idSet, index) {\r\n    // 去除首尾空白并将空格替换为 -\r\n    let newId = text.trim().replace(/\\s+/g, '-');\r\n    // 移除除字母、数字、下划线和连字符之外的所有字符\r\n    newId = newId.replace(/[^\\w\\-]/g, '');\r\n    // 如果处理后为空，则使用默认前缀\r\n    if (!newId) {\r\n        newId = \"heading-\" + index;\r\n    }\r\n    // 避免重复\r\n    while (idSet.has(newId)) {\r\n        newId += \"-\" + index;\r\n    }\r\n    idSet.add(newId);\r\n    return newId;\r\n}\r\n/**\r\n * 上传图片提示\r\n */\r\nfunction attach_image() {\r\n    let cached = document.getElementsByClassName(\"insert-image-tips\")[0],\r\n        upload_img = document.getElementById('upload-img-file');\r\n    if (!upload_img) return;\r\n    upload_img.addEventListener(\"change\", (function () {\r\n        if (this.files.length > 10) {\r\n            createButterbar(__(\"每次上传上限为10张\"));\r\n            return 0;\r\n        }\r\n        for (let i = 0; i < this.files.length; i++) {\r\n            if (this.files[i].size >= 5242880) {\r\n                alert(_$('图片上传大小限制为5 MB\\n\\n「{0}」\\n\\n这张图太大啦~请重新上传噢！', this.files[i].name));\r\n                return;\r\n            }\r\n        }\r\n        for (let i = 0; i < this.files.length; i++) {\r\n            let f = this.files[i],\r\n                formData = new FormData(),\r\n                xhr = new XMLHttpRequest();\r\n            formData.append('cmt_img_file', f);\r\n            xhr.addEventListener('loadstart', function () {\r\n                cached.innerHTML = '<i class=\"fa-solid fa-circle-notch fa-spin\"></i>';\r\n                createButterbar(__(\"上传中...\"));\r\n            });\r\n            xhr.open(\"POST\", buildAPI(_iro.api + 'sakura/v1/image/upload'), true);\r\n            xhr.send(formData);\r\n            xhr.onreadystatechange = function () {\r\n                if (xhr.readyState == 4 && (xhr.status == 200 || xhr.status == 304)) {\r\n                    cached.innerHTML = '<i class=\"fa-solid fa-check\"></i>';\r\n                    setTimeout(function () {\r\n                        cached.innerHTML = '<i class=\"fa-regular fa-image\"></i>';\r\n                    }, 1000);\r\n                    let res = JSON.parse(xhr.responseText);\r\n                    if (res.status == 200) {\r\n                        let get_the_url = res.proxy;\r\n                        document.getElementById(\"upload-img-show\").insertAdjacentHTML('afterend', '<img class=\"lazyload upload-image-preview\" src=\"' + _iro.loading_ph + '\" data-src=\"' + get_the_url + '\" onclick=\"window.open(\\'' + get_the_url + '\\')\" onerror=\"imgError(this)\" />');\r\n                        lazyload();\r\n                        createButterbar(__(\"图片上传成功~\"));\r\n                        grin(get_the_url, type = 'Img');\r\n                    } else {\r\n                        createButterbar(_$('上传失败！\\n文件名: {0}\\ncode: {1}\\n{2}', f.name, res.status, res.message), 3000)\r\n                    }\r\n                } else if (xhr.readyState == 4) {\r\n                    cached.innerHTML = '<i class=\"fa-regular fa-clock\" aria-hidden=\"true\" style=\"color:red\"></i>';\r\n                    alert(__(\"上传失败，请重试.\"));\r\n                    setTimeout(function () {\r\n                        cached.innerHTML = '<i class=\"fa-regular fa-image\"></i>';\r\n                    }, 1000);\r\n                }\r\n            }\r\n        }\r\n    }));\r\n}\r\n\r\n/**\r\n * 添加上传图片的提示\r\n */\r\nfunction add_upload_tips() {\r\n    const form_submit = document.querySelector('.form-submit #submit');\r\n    if (form_submit == null) return;\r\n    if (!_iro.comment_upload_img) {\r\n        return\r\n    }\r\n    attach_image();\r\n\r\n    const file_submit = document.getElementById('upload-img-file'),\r\n        hover = document.getElementsByClassName('insert-image-tips')[0],\r\n        Tip = document.getElementById('uploadTipPopup');\r\n    if (!file_submit) return;\r\n    file_submit.addEventListener(\"mouseenter\", function () {\r\n        hover.classList.toggle('insert-image-tips-hover');\r\n        Tip.classList.toggle('show');\r\n    });\r\n    file_submit.addEventListener(\"mouseleave\", function () {\r\n        hover.classList.toggle('insert-image-tips-hover');\r\n        Tip.classList.toggle('show');\r\n    });\r\n}\r\nfunction addComtListener() {\r\n    document.querySelectorAll(\".comt-addsmilies\").forEach((e) => {\r\n        e.addEventListener(\"click\", () => {\r\n            if (e.stlye.display == \"block\") {\r\n                e.style.display = \"none\";\r\n            } else {\r\n                e.style.display = \"block\";\r\n            }\r\n        })\r\n    })\r\n    document.querySelectorAll(\".comt-smilies a\").forEach((e) => {\r\n        e.addEventListener(\"click\", () => {\r\n            e.parentNode.style.display = \"none\";\r\n        })\r\n    })\r\n}\r\nfunction afterAjaxCommentComplete() {\r\n    lazyload();\r\n    code_highlight_style();\r\n    click_to_view_image();\r\n    clean_upload_images();\r\n}\r\n\r\n// #region LifeCycle\r\nfunction whilePopstate() {\r\n    article_attach()\r\n    sm()\r\n}\r\nfunction whileReady() {\r\n    article_attach()\r\n    XCS()\r\n    XCP()\r\n    getqqinfo()\r\n    add_upload_tips()\r\n}\r\nfunction whilePjaxComplete() {\r\n    try {\r\n        add_upload_tips()\r\n        article_attach()\r\n        LoadNextPage();\r\n        tableOfContentScroll(true);\r\n        click_to_view_image()\r\n        getqqinfo()\r\n        sm()\r\n        original_emoji_click()\r\n        code_highlight_style()\r\n        prepareEmoji()\r\n        XCS()\r\n        resizeTOC()\r\n        initAnnotations();\r\n        // 应用文章特色图片取色\r\n        applyArticleHighlights();\r\n    } catch (e) {\r\n        console.warn(e)\r\n    }\r\n}\r\nfunction whileLoaded() {\r\n    window.addEventListener('popstate', whilePopstate)\r\n    click_to_view_image()\r\n    code_highlight_style()\r\n    LoadNextPage();\r\n    sm()\r\n    original_emoji_click()\r\n    prepareEmoji()\r\n    tableOfContentScroll(true);\r\n    addComtListener()\r\n    resizeTOC()\r\n    initAnnotations();\r\n    applyArticleHighlights();\r\n}\r\nwhileLoaded()\r\ndocument.addEventListener('pjax:complete', whilePjaxComplete)\r\nready(whileReady)\r\n//#endregion","// Corresponds to 10 frames at 60 Hz.\n// A few bytes payload overhead when lodash/debounce is ~3 kB and debounce ~300 B.\nexport default function debounce(func, wait = 166) {\n  let timeout;\n  function debounced(...args) {\n    const later = () => {\n      // @ts-ignore\n      func.apply(this, args);\n    };\n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n  }\n  debounced.clear = () => {\n    clearTimeout(timeout);\n  };\n  return debounced;\n}","var charenc = {\n  // UTF-8 encoding\n  utf8: {\n    // Convert a string to a byte array\n    stringToBytes: function(str) {\n      return charenc.bin.stringToBytes(unescape(encodeURIComponent(str)));\n    },\n\n    // Convert a byte array to a string\n    bytesToString: function(bytes) {\n      return decodeURIComponent(escape(charenc.bin.bytesToString(bytes)));\n    }\n  },\n\n  // Binary encoding\n  bin: {\n    // Convert a string to a byte array\n    stringToBytes: function(str) {\n      for (var bytes = [], i = 0; i < str.length; i++)\n        bytes.push(str.charCodeAt(i) & 0xFF);\n      return bytes;\n    },\n\n    // Convert a byte array to a string\n    bytesToString: function(bytes) {\n      for (var str = [], i = 0; i < bytes.length; i++)\n        str.push(String.fromCharCode(bytes[i]));\n      return str.join('');\n    }\n  }\n};\n\nmodule.exports = charenc;\n","(function() {\n  var base64map\n      = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/',\n\n  crypt = {\n    // Bit-wise rotation left\n    rotl: function(n, b) {\n      return (n << b) | (n >>> (32 - b));\n    },\n\n    // Bit-wise rotation right\n    rotr: function(n, b) {\n      return (n << (32 - b)) | (n >>> b);\n    },\n\n    // Swap big-endian to little-endian and vice versa\n    endian: function(n) {\n      // If number given, swap endian\n      if (n.constructor == Number) {\n        return crypt.rotl(n, 8) & 0x00FF00FF | crypt.rotl(n, 24) & 0xFF00FF00;\n      }\n\n      // Else, assume array and swap all items\n      for (var i = 0; i < n.length; i++)\n        n[i] = crypt.endian(n[i]);\n      return n;\n    },\n\n    // Generate an array of any length of random bytes\n    randomBytes: function(n) {\n      for (var bytes = []; n > 0; n--)\n        bytes.push(Math.floor(Math.random() * 256));\n      return bytes;\n    },\n\n    // Convert a byte array to big-endian 32-bit words\n    bytesToWords: function(bytes) {\n      for (var words = [], i = 0, b = 0; i < bytes.length; i++, b += 8)\n        words[b >>> 5] |= bytes[i] << (24 - b % 32);\n      return words;\n    },\n\n    // Convert big-endian 32-bit words to a byte array\n    wordsToBytes: function(words) {\n      for (var bytes = [], b = 0; b < words.length * 32; b += 8)\n        bytes.push((words[b >>> 5] >>> (24 - b % 32)) & 0xFF);\n      return bytes;\n    },\n\n    // Convert a byte array to a hex string\n    bytesToHex: function(bytes) {\n      for (var hex = [], i = 0; i < bytes.length; i++) {\n        hex.push((bytes[i] >>> 4).toString(16));\n        hex.push((bytes[i] & 0xF).toString(16));\n      }\n      return hex.join('');\n    },\n\n    // Convert a hex string to a byte array\n    hexToBytes: function(hex) {\n      for (var bytes = [], c = 0; c < hex.length; c += 2)\n        bytes.push(parseInt(hex.substr(c, 2), 16));\n      return bytes;\n    },\n\n    // Convert a byte array to a base-64 string\n    bytesToBase64: function(bytes) {\n      for (var base64 = [], i = 0; i < bytes.length; i += 3) {\n        var triplet = (bytes[i] << 16) | (bytes[i + 1] << 8) | bytes[i + 2];\n        for (var j = 0; j < 4; j++)\n          if (i * 8 + j * 6 <= bytes.length * 8)\n            base64.push(base64map.charAt((triplet >>> 6 * (3 - j)) & 0x3F));\n          else\n            base64.push('=');\n      }\n      return base64.join('');\n    },\n\n    // Convert a base-64 string to a byte array\n    base64ToBytes: function(base64) {\n      // Remove non-base-64 characters\n      base64 = base64.replace(/[^A-Z0-9+\\/]/ig, '');\n\n      for (var bytes = [], i = 0, imod4 = 0; i < base64.length;\n          imod4 = ++i % 4) {\n        if (imod4 == 0) continue;\n        bytes.push(((base64map.indexOf(base64.charAt(i - 1))\n            & (Math.pow(2, -2 * imod4 + 8) - 1)) << (imod4 * 2))\n            | (base64map.indexOf(base64.charAt(i)) >>> (6 - imod4 * 2)));\n      }\n      return bytes;\n    }\n  };\n\n  module.exports = crypt;\n})();\n","/*!\n * Determine if an object is a Buffer\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n\n// The _isBuffer check is for Safari 5-7 support, because it's missing\n// Object.prototype.constructor. Remove this eventually\nmodule.exports = function (obj) {\n  return obj != null && (isBuffer(obj) || isSlowBuffer(obj) || !!obj._isBuffer)\n}\n\nfunction isBuffer (obj) {\n  return !!obj.constructor && typeof obj.constructor.isBuffer === 'function' && obj.constructor.isBuffer(obj)\n}\n\n// For Node v0.10 support. Remove this eventually.\nfunction isSlowBuffer (obj) {\n  return typeof obj.readFloatLE === 'function' && typeof obj.slice === 'function' && isBuffer(obj.slice(0, 0))\n}\n","(function(){\r\n  var crypt = require('crypt'),\r\n      utf8 = require('charenc').utf8,\r\n      isBuffer = require('is-buffer'),\r\n      bin = require('charenc').bin,\r\n\r\n  // The core\r\n  md5 = function (message, options) {\r\n    // Convert to byte array\r\n    if (message.constructor == String)\r\n      if (options && options.encoding === 'binary')\r\n        message = bin.stringToBytes(message);\r\n      else\r\n        message = utf8.stringToBytes(message);\r\n    else if (isBuffer(message))\r\n      message = Array.prototype.slice.call(message, 0);\r\n    else if (!Array.isArray(message) && message.constructor !== Uint8Array)\r\n      message = message.toString();\r\n    // else, assume byte array already\r\n\r\n    var m = crypt.bytesToWords(message),\r\n        l = message.length * 8,\r\n        a =  1732584193,\r\n        b = -271733879,\r\n        c = -1732584194,\r\n        d =  271733878;\r\n\r\n    // Swap endian\r\n    for (var i = 0; i < m.length; i++) {\r\n      m[i] = ((m[i] <<  8) | (m[i] >>> 24)) & 0x00FF00FF |\r\n             ((m[i] << 24) | (m[i] >>>  8)) & 0xFF00FF00;\r\n    }\r\n\r\n    // Padding\r\n    m[l >>> 5] |= 0x80 << (l % 32);\r\n    m[(((l + 64) >>> 9) << 4) + 14] = l;\r\n\r\n    // Method shortcuts\r\n    var FF = md5._ff,\r\n        GG = md5._gg,\r\n        HH = md5._hh,\r\n        II = md5._ii;\r\n\r\n    for (var i = 0; i < m.length; i += 16) {\r\n\r\n      var aa = a,\r\n          bb = b,\r\n          cc = c,\r\n          dd = d;\r\n\r\n      a = FF(a, b, c, d, m[i+ 0],  7, -680876936);\r\n      d = FF(d, a, b, c, m[i+ 1], 12, -389564586);\r\n      c = FF(c, d, a, b, m[i+ 2], 17,  606105819);\r\n      b = FF(b, c, d, a, m[i+ 3], 22, -1044525330);\r\n      a = FF(a, b, c, d, m[i+ 4],  7, -176418897);\r\n      d = FF(d, a, b, c, m[i+ 5], 12,  1200080426);\r\n      c = FF(c, d, a, b, m[i+ 6], 17, -1473231341);\r\n      b = FF(b, c, d, a, m[i+ 7], 22, -45705983);\r\n      a = FF(a, b, c, d, m[i+ 8],  7,  1770035416);\r\n      d = FF(d, a, b, c, m[i+ 9], 12, -1958414417);\r\n      c = FF(c, d, a, b, m[i+10], 17, -42063);\r\n      b = FF(b, c, d, a, m[i+11], 22, -1990404162);\r\n      a = FF(a, b, c, d, m[i+12],  7,  1804603682);\r\n      d = FF(d, a, b, c, m[i+13], 12, -40341101);\r\n      c = FF(c, d, a, b, m[i+14], 17, -1502002290);\r\n      b = FF(b, c, d, a, m[i+15], 22,  1236535329);\r\n\r\n      a = GG(a, b, c, d, m[i+ 1],  5, -165796510);\r\n      d = GG(d, a, b, c, m[i+ 6],  9, -1069501632);\r\n      c = GG(c, d, a, b, m[i+11], 14,  643717713);\r\n      b = GG(b, c, d, a, m[i+ 0], 20, -373897302);\r\n      a = GG(a, b, c, d, m[i+ 5],  5, -701558691);\r\n      d = GG(d, a, b, c, m[i+10],  9,  38016083);\r\n      c = GG(c, d, a, b, m[i+15], 14, -660478335);\r\n      b = GG(b, c, d, a, m[i+ 4], 20, -405537848);\r\n      a = GG(a, b, c, d, m[i+ 9],  5,  568446438);\r\n      d = GG(d, a, b, c, m[i+14],  9, -1019803690);\r\n      c = GG(c, d, a, b, m[i+ 3], 14, -187363961);\r\n      b = GG(b, c, d, a, m[i+ 8], 20,  1163531501);\r\n      a = GG(a, b, c, d, m[i+13],  5, -1444681467);\r\n      d = GG(d, a, b, c, m[i+ 2],  9, -51403784);\r\n      c = GG(c, d, a, b, m[i+ 7], 14,  1735328473);\r\n      b = GG(b, c, d, a, m[i+12], 20, -1926607734);\r\n\r\n      a = HH(a, b, c, d, m[i+ 5],  4, -378558);\r\n      d = HH(d, a, b, c, m[i+ 8], 11, -2022574463);\r\n      c = HH(c, d, a, b, m[i+11], 16,  1839030562);\r\n      b = HH(b, c, d, a, m[i+14], 23, -35309556);\r\n      a = HH(a, b, c, d, m[i+ 1],  4, -1530992060);\r\n      d = HH(d, a, b, c, m[i+ 4], 11,  1272893353);\r\n      c = HH(c, d, a, b, m[i+ 7], 16, -155497632);\r\n      b = HH(b, c, d, a, m[i+10], 23, -1094730640);\r\n      a = HH(a, b, c, d, m[i+13],  4,  681279174);\r\n      d = HH(d, a, b, c, m[i+ 0], 11, -358537222);\r\n      c = HH(c, d, a, b, m[i+ 3], 16, -722521979);\r\n      b = HH(b, c, d, a, m[i+ 6], 23,  76029189);\r\n      a = HH(a, b, c, d, m[i+ 9],  4, -640364487);\r\n      d = HH(d, a, b, c, m[i+12], 11, -421815835);\r\n      c = HH(c, d, a, b, m[i+15], 16,  530742520);\r\n      b = HH(b, c, d, a, m[i+ 2], 23, -995338651);\r\n\r\n      a = II(a, b, c, d, m[i+ 0],  6, -198630844);\r\n      d = II(d, a, b, c, m[i+ 7], 10,  1126891415);\r\n      c = II(c, d, a, b, m[i+14], 15, -1416354905);\r\n      b = II(b, c, d, a, m[i+ 5], 21, -57434055);\r\n      a = II(a, b, c, d, m[i+12],  6,  1700485571);\r\n      d = II(d, a, b, c, m[i+ 3], 10, -1894986606);\r\n      c = II(c, d, a, b, m[i+10], 15, -1051523);\r\n      b = II(b, c, d, a, m[i+ 1], 21, -2054922799);\r\n      a = II(a, b, c, d, m[i+ 8],  6,  1873313359);\r\n      d = II(d, a, b, c, m[i+15], 10, -30611744);\r\n      c = II(c, d, a, b, m[i+ 6], 15, -1560198380);\r\n      b = II(b, c, d, a, m[i+13], 21,  1309151649);\r\n      a = II(a, b, c, d, m[i+ 4],  6, -145523070);\r\n      d = II(d, a, b, c, m[i+11], 10, -1120210379);\r\n      c = II(c, d, a, b, m[i+ 2], 15,  718787259);\r\n      b = II(b, c, d, a, m[i+ 9], 21, -343485551);\r\n\r\n      a = (a + aa) >>> 0;\r\n      b = (b + bb) >>> 0;\r\n      c = (c + cc) >>> 0;\r\n      d = (d + dd) >>> 0;\r\n    }\r\n\r\n    return crypt.endian([a, b, c, d]);\r\n  };\r\n\r\n  // Auxiliary functions\r\n  md5._ff  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (b & c | ~b & d) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n  md5._gg  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (b & d | c & ~d) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n  md5._hh  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (b ^ c ^ d) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n  md5._ii  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (c ^ (b | ~d)) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n\r\n  // Package private blocksize\r\n  md5._blocksize = 16;\r\n  md5._digestsize = 16;\r\n\r\n  module.exports = function (message, options) {\r\n    if (message === undefined || message === null)\r\n      throw new Error('Illegal argument ' + message);\r\n\r\n    var digestbytes = crypt.wordsToBytes(md5(message, options));\r\n    return options && options.asBytes ? digestbytes :\r\n        options && options.asString ? bin.bytesToString(digestbytes) :\r\n        crypt.bytesToHex(digestbytes);\r\n  };\r\n\r\n})();\r\n"],"names":["window","grin","tag","type","before","after","myField","document","getElementById","selectionStart","startPos","endPos","selectionEnd","cursorPos","value","substring","length","focus","lightBoxCSS","article_attach","collapseButtons","getElementsByClassName","collapseListener","e","slideToggle","currentTarget","nextElementSibling","ele","addEventListener","collapse","async","_iro","baguetteBox","loadCSS","resolvePath","default","run","captions","element","getElementsByTagName","alt","ignoreClass","fancybox","jQuery","Function","$","ext_shared_lib","importExternal","lightGallery","initLightGallery","lightbox","querySelector","textContent","match","mathjaxConfig","tex","inlineMath","startup","typeset","chtml","fontURL","mathmlSpacing","MathJax","typesetPromise","math","get_gravatar","email","size","gravatar_url","MD5","getqqinfo","is_get_by_qq","i_author","i_qq","i_email","i_url","qq_check","gravatar_check","user_avatar_img","localStorage","getItem","setAttribute","qzone_autocomplete","style","display","emailAddressFlag","qq","test","whileFailed","setItem","fetch","buildAPI","qq_api_url","then","resp","ok","data","json","name","trim","avatar","console","warn","emailAddress","URL_Address","user_name","AddComment","respondId","moveForm","commId","parentId","comm","respond","cancel","parent","this","div","createElement","id","parentNode","insertBefore","nextSibling","temp","remove","_respond","scrollTo","top","getBoundingClientRect","pageYOffset","clientTop","behavior","onclick","t","PaginationListener","target","preventDefault","stopPropagation","classList","contains","add","dataset","href","nonce","method","res","Error","status","insertAdjacentHTML","lazyload","catch","error","createButterbar","innerHTML","LoadNextPage","sections","_flag","i","prepareEmoji","emojiPanelButton","emojiPanel","header","commentTextArea","removeEventListener","closeEmojiPanel","moveDrag","endDrag","startDrag","getAttribute","btnRect","panelWidth","offsetWidth","panelHeight","offsetHeight","leftPos","left","scrollX","width","topPos","getComputedStyle","position","scrollY","toggle","hasAttribute","passive","initEmojiPanel","offsetX","offsetY","isDragging","event","touches","clientX","offsetLeft","clientY","offsetTop","transition","row","tagName","querySelectorAll","container","className","initAnnotations","popup","body","appendChild","createAnnotationPopup","have_annotation","page_annotation","JSON","parse","Object","keys","forEach","mark","term","explanation","rect","bottom","closest","click_to_view_image","open","src","original_emoji_click","innerText","XCS","__list","form","statusSubmitting","butterBarRef","__","FormData","append","ajaxurl","attributes","text","Array","from","addComment","order","formpostion","dispatchEvent","CustomEvent","statusText","reason","finally","sm","cm","data_commentid","list","msg","confirm","alert","idp","actionp","rateHolderp","ajax_data","request","XMLHttpRequest","onreadystatechange","readyState","responseText","setRequestHeader","send","resizeTOC","toc_container","sc","resize","height","Math","min","documentElement","func","wait","timeout","debounced","args","clearTimeout","setTimeout","apply","clear","debounce","fn","maxTimelong","startTime","Date","curTime","throttling","tableOfContentScroll","flag","tocContainer","tocbot","init","tocSelector","contentSelector","headingSelector","headingsOffset","heading_fix","innerHeight","onClick","entry_content_style","_els","idSet","Set","_el","title","validId","generateValidId","has","index","newId","replace","add_upload_tips","comment_upload_img","cached","upload_img","files","_$","f","formData","xhr","api","get_the_url","proxy","loading_ph","message","attach_image","file_submit","hover","Tip","whilePopstate","code_highlight_style","stlye","applyArticleHighlights","ready","nodeName","toLowerCase","_this","path","pathname","_xhr","responseType","onloadstart","comments_navi","commentwrap","loading_comments","comments_list","response","result","nextlink","outerHTML","gtag","google_analytics_id","charenc","utf8","stringToBytes","str","bin","unescape","encodeURIComponent","bytesToString","bytes","decodeURIComponent","escape","push","charCodeAt","String","fromCharCode","join","module","exports","base64map","crypt","rotl","n","b","rotr","endian","constructor","Number","randomBytes","floor","random","bytesToWords","words","wordsToBytes","bytesToHex","hex","toString","hexToBytes","c","parseInt","substr","bytesToBase64","base64","triplet","j","charAt","base64ToBytes","imod4","indexOf","pow","isBuffer","obj","readFloatLE","slice","isSlowBuffer","_isBuffer","md5","options","encoding","prototype","call","isArray","Uint8Array","m","l","a","d","FF","_ff","GG","_gg","HH","_hh","II","_ii","aa","bb","cc","dd","x","s","_blocksize","_digestsize","digestbytes","asBytes","asString"],"sourceRoot":""}