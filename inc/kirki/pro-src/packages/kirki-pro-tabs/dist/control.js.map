{"mappings":"gBAEWA,EAAAA,EAmFRC,OAHDC,GAAGC,UAAUC,KAAK,SAAS,YA/ET,WAChB,IAAMC,EAAgBC,SAASC,iBAC7B,8BAEF,GAAKF,EAAcG,OAAnB,CAEA,IAAIC,EAAS,GAEb,GAAGC,MAAMC,KAAKN,GAAeO,SAAQ,SAAUC,GAC7C,IAAMC,EAAcD,EAAaE,QAAQC,iBAEpCP,EAAOQ,SAASH,IACnBL,EAAOS,KAAKJ,MAIhB,IAAMK,EAAa,SAACC,EAAOC,GACzBrB,EAAE,uBAAyBoB,EAAQ,2BAA2BE,YAC5D,aAGF,IAAMC,EAAcjB,SAASkB,cAC3B,uBACEJ,EACA,+BACAC,EACA,MAGAE,GAAaA,EAAYE,UAAUC,IAAI,aAE3C,IAAMC,EAAWrB,SAASC,iBACxB,8BAAgCa,EAAQ,MAG1C,GAAGV,MAAMC,KAAKgB,GAAUf,SAAQ,SAAUgB,GACpCA,EAAQb,QAAQc,qBAAuBR,EACzCO,EAAQH,UAAUK,OAAO,yBAEzBF,EAAQH,UAAUC,IAAI,6BAM1B1B,EAAEM,UAAUyB,GAAG,QAAS,0BAA0B,SAAUC,GAC1DA,EAAEC,iBAEF,IAAMb,EAAQc,KAAKC,WAAWA,WAAWA,WAAWpB,QAAQqB,WACtDf,EAAca,KAAKC,WAAWpB,QAAQsB,eAE5ClB,EAAWC,EAAOC,MAKpBZ,EAAOG,SAAQ,SAAUQ,GACvBlB,GAAGC,UAAUmC,QAAQlB,GAAO,SAAUkB,GACpCA,EAAQC,SAASnC,MAAK,SAAUoC,GAC9B,GAAIA,EAAY,CACd,IAAMC,EAAgBnC,SAASkB,cAC7B,uBACEJ,EACA,qCAGAqB,GACFtB,EAAWC,EAAOqB,EAAc1B,QAAQsB,2BAapDK","sources":["src/control.js"],"sourcesContent":["import \"./control.scss\";\r\n\r\n(function ($) {\r\n  const setupTabs = () => {\r\n    const childControls = document.querySelectorAll(\r\n      \"[data-kirki-parent-tab-id]\"\r\n    );\r\n    if (!childControls.length) return;\r\n\r\n    let tabIds = [];\r\n\r\n    [].slice.call(childControls).forEach(function (childControl) {\r\n      const parentTabId = childControl.dataset.kirkiParentTabId;\r\n\r\n      if (!tabIds.includes(parentTabId)) {\r\n        tabIds.push(parentTabId);\r\n      }\r\n    });\r\n\r\n    const switchTabs = (tabId, tabItemName) => {\r\n      $('[data-kirki-tab-id=\"' + tabId + '\"] .kirki-tab-menu-item').removeClass(\r\n        \"is-active\"\r\n      );\r\n\r\n      const tabMenuItem = document.querySelector(\r\n        '[data-kirki-tab-id=\"' +\r\n          tabId +\r\n          '\"] [data-kirki-tab-menu-id=\"' +\r\n          tabItemName +\r\n          '\"]'\r\n      );\r\n\r\n      if (tabMenuItem) tabMenuItem.classList.add(\"is-active\");\r\n\r\n      const tabItems = document.querySelectorAll(\r\n        '[data-kirki-parent-tab-id=\"' + tabId + '\"]'\r\n      );\r\n\r\n      [].slice.call(tabItems).forEach(function (tabItem) {\r\n        if (tabItem.dataset.kirkiParentTabItem === tabItemName) {\r\n          tabItem.classList.remove(\"kirki-tab-item-hidden\");\r\n        } else {\r\n          tabItem.classList.add(\"kirki-tab-item-hidden\");\r\n        }\r\n      });\r\n    };\r\n\r\n    const setupTabClicks = () => {\r\n      $(document).on(\"click\", \".kirki-tab-menu-item a\", function (e) {\r\n        e.preventDefault();\r\n\r\n        const tabId = this.parentNode.parentNode.parentNode.dataset.kirkiTabId;\r\n        const tabItemName = this.parentNode.dataset.kirkiTabMenuId;\r\n\r\n        switchTabs(tabId, tabItemName);\r\n      });\r\n    };\r\n\r\n    const setupBindings = () => {\r\n      tabIds.forEach(function (tabId) {\r\n        wp.customize.section(tabId, function (section) {\r\n          section.expanded.bind(function (isExpanded) {\r\n            if (isExpanded) {\r\n              const activeTabMenu = document.querySelector(\r\n                '[data-kirki-tab-id=\"' +\r\n                  tabId +\r\n                  '\"] .kirki-tab-menu-item.is-active'\r\n              );\r\n\r\n              if (activeTabMenu) {\r\n                switchTabs(tabId, activeTabMenu.dataset.kirkiTabMenuId);\r\n              }\r\n            }\r\n          });\r\n        });\r\n      });\r\n    };\r\n\r\n    setupTabClicks();\r\n    setupBindings();\r\n  };\r\n\r\n  wp.customize.bind(\"ready\", function () {\r\n    setupTabs();\r\n  });\r\n})(jQuery);\r\n"],"names":["$","jQuery","wp","customize","bind","childControls","document","querySelectorAll","length","tabIds","slice","call","forEach","childControl","parentTabId","dataset","kirkiParentTabId","includes","push","switchTabs","tabId","tabItemName","removeClass","tabMenuItem","querySelector","classList","add","tabItems","tabItem","kirkiParentTabItem","remove","on","e","preventDefault","this","parentNode","kirkiTabId","kirkiTabMenuId","section","expanded","isExpanded","activeTabMenu","setupTabs"],"version":3,"file":"control.js.map"}